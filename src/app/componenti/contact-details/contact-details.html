<mat-card class="example-card" appearance="outlined">
  @if (stato().isError > 0){
  <span style="color:red">{{stato().msg}}</span>
  }
  <mat-card-header>
    <mat-card-title>Detaglio contatto {{persona?.nome}}. {{persona?.cognome}}</mat-card-title>
  </mat-card-header>
  <form [formGroup]="updateform" (ngSubmit)="onSubmit()">
    <mat-card-content>
      <div class="form-container">
        <mat-form-field class="form-column">
          <mat-label>Nome</mat-label>
          <input matInput type="text" name="nome" formControlName="nome">
        </mat-form-field>
        <mat-form-field class="form-column">
          <mat-label>Cognome</mat-label>
          <input matInput type="text" name="cognome" formControlName="cognome">
        </mat-form-field>
        <mat-form-field class="form-column">
          <mat-label>Email</mat-label>
          <input matInput type="email" name="email" formControlName="email">
        </mat-form-field>
        @if (!updateform.valid && updateform.get('email').touched){
        <span style="color: red;">Inserice un email valido</span>
        }
        <mat-form-field class="form-column">
          <mat-label>Colore</mat-label>
          <mat-select name="colore" formControlName="colore" [ngStyle]="{color:persona?.colore}">
            <mat-option value="red">Rosso</mat-option>
            <mat-option value="blu">Blu</mat-option>
            <mat-option value="green">Verde</mat-option>
            <mat-option value="pink">Rosa</mat-option>
            <mat-option value="yellow">Giallo</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-card-content>
    <mat-card-actions class="button-group">
      <button mat-raised-button color="primary" type="button" (click)="onAnnull()">Annull</button>
      @if (stato().isError == 0 || stato().isError == 2){
      <button mat-raised-button style="background-color: green; color:white" [disabled]="!updateform.valid" type="submit">Aggiornare</button>
      <button mat-raised-button style="background-color: red;" type="button" (click)="onDelete()">Cancellare</button>
      }
    </mat-card-actions>
  </form>


</mat-card>